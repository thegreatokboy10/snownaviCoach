# 快速开始指南

## 🚀 立即开始使用

### 1. 激活环境并启动应用
```bash
# 激活虚拟环境
source pose_detection_env/bin/activate

# 启动应用程序
python pose_detection_app.py
```

### 2. 使用步骤
1. **选择视频**：点击"选择视频文件"按钮
2. **开始检测**：点击"播放"按钮开始实时姿态检测
3. **查看结果**：
   - 左侧：原始视频
   - 右侧：带骨骼关键点的检测结果
4. **控制播放**：
   - 播放/暂停：点击播放按钮
   - 跳转：拖动进度条
   - 停止：点击停止按钮

5. **自定义骨骼样式**（新功能）：
   - 选择关键点颜色（7种颜色）
   - 选择连接线颜色（7种颜色）
   - 调整线条粗细（1-8像素）
   - 点击"重置默认"恢复设置

## ✨ 性能优化亮点

### 已解决的问题
- ✅ **按钮响应慢**：现在按钮点击立即响应
- ✅ **视频播放卡顿**：流畅的30fps播放
- ✅ **界面冻结**：多线程架构，UI永不卡顿
- ✅ **内存泄漏**：智能资源管理
- ✅ **骨骼线条单调**：新增自定义颜色和粗细功能

### 技术改进
- **多线程处理**：姿态检测在后台进行
- **智能队列**：防止内存溢出的帧缓冲
- **优化模型**：使用轻量级MediaPipe模型
- **帧率控制**：智能限制更新频率

## 🎯 支持的视频格式
- MP4 (推荐)
- AVI
- MOV
- MKV
- WMV
- FLV

## 📊 性能指标
- **姿态检测**：30+ FPS
- **视频读取**：2000+ FPS
- **UI响应**：实时无延迟
- **内存使用**：优化的资源管理

## 🔧 故障排除

### 如果应用启动失败
```bash
# 重新激活环境
source pose_detection_env/bin/activate

# 检查依赖
python test_pose_detection.py
```

### 如果视频无法播放
1. 确认视频格式受支持
2. 检查视频文件是否损坏
3. 尝试较小的视频文件

### 如果检测效果不佳
1. 确保视频中人物清晰
2. 避免过度遮挡
3. 选择光线良好的视频

## 🧪 性能测试
运行性能测试来验证系统性能：
```bash
python test_performance.py
```

## 📝 技术细节

### 架构改进
- **主线程**：负责UI更新和用户交互
- **播放线程**：使用`tkinter.after()`调度帧更新
- **处理线程**：后台进行姿态检测
- **队列机制**：缓冲待处理的帧

### 优化策略
1. **降低模型复杂度**：`model_complexity=0`
2. **智能帧跳过**：队列满时跳过帧
3. **批量更新**：减少UI更新频率
4. **资源清理**：自动释放内存和线程

## 🎉 享受流畅的姿态检测体验！

现在你可以享受：
- 🖱️ 响应迅速的按钮点击
- 📹 流畅的视频播放
- 🦴 实时的骨骼检测
- 💻 稳定的应用程序运行
